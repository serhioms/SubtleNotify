# SubtleNotify

¬´–°–µ—Ä–≤–∏—Å –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π¬ª. C–µ—Ä–≤–∏—Å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é, –∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–µ–π –∏—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏. –ü–æ —Å–∫–æ–ª—å–∫—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ —Å–ª—É—á–∞–π–Ω—ã –Ω–æ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã —Ö–æ—Ç—è –∏ –Ω–µ –æ–∂–∏–¥–∞–Ω–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –ø—Ä–æ–µ–∫—Ç –Ω–∞–∑–≤–∞–Ω **SubtleNotify** - —Ç–æ–Ω–∫–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.

## Tech stack:
‚Ä¢ Java 17
‚Ä¢ Spring Boot 3.5.7
‚Ä¢ HSQL
‚Ä¢ Gradle

## To compile

‚Ä¢ gradle

## To run

‚Ä¢ gradle bootRun


### –õ–æ–≥–∏–∫–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è

–ü—Ä–∏ –∏ –≤ –∫–∞–∂–¥–æ–º [REST/action](http://localhost:8080/swagger-ui/index.html#/:~:text=/api/subtlenotify/action) –≤—ã–∑–æ–≤–µ `actiontype` –∑–∞–¥–∞—ë—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –Ω–∏–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è. –ü–æ—Ä—è–¥–æ–∫ –æ–ø–µ—Ä–∞—Ü–∏–π —Å–ª–µ–¥—É—é—â–∏–π:

- –ó–∞–ø–∏—Å–∞—Ç—å `action` –≤ –ë–î
- –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ –≤–∏–¥–µ —Å–µ—Ä–∏–∏ `timestamp` –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É `userId` –∏ `actionType` –∑–∞ –∏–∑–≤–µ—Å—Ç–Ω—ã–π –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ –≤—Ä–µ–º–µ–Ω–∏
- –ù–∞–π—Ç–∏ —Ç—Ä–∏–≥–≥–µ—Ä–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ`actionType` –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –∫ —Å–µ—Ä–∏–∏ `timestamp`
- –ï—Å–ª–∏ –∫–∞–∫–æ–µ-–ª–∏–±–æ –ø—Ä–∞–≤–∏–ª–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç, —Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ–º "–Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ" —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –ë–î

> **PS:** –û–≥—Ä–∞–Ω–∏—á–∏–º—Å—è –ø–æ–Ω–µ–¥–µ–ª—å–Ω—ã–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏. –ü–æ–º–µ—Å—è—á–Ω—ã–µ –∏ –≥–æ–¥–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–∂–∏–¥–∞—é—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö :)<br/>
> **PS:** –ù–µ –ø—Ä–µ–¥—É—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç—Å—è –Ω–∏–∫–∞–∫–∏—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –¥–ª—è "–Ω–∞–¥–æ–µ–¥–ª–∏–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π" –∫—Ä–æ–º–µ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –¥—É–±–ª–µ–π

## –ü—Ä–∏–º–µ—Ä—ã —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

1. **–ø–∏—à–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** - –Ω–æ—á—å—é —Ç—Ä–∏ –¥–Ω—è –ø–æ–¥—Ä—è–¥ ‚Üí —É—Ç—Ä–æ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
2. **–ø–æ–∫—É–ø–∞–µ—Ç –∫–æ—Ñ–µ** - –ø–æ –ø–Ω, —Å—Ä, –ø—Ç ‚Üí –≤–æ –≤—Ç–æ—Ä–Ω–∏–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Å–∫–∏–¥–∫–µ
3. **–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** - –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 9–º —á–∞—Å—É ‚Üí –µ—Å–ª–∏ –æ—Ç–∫—Ä—ã–ª –≤ 8–º, –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ —É–≤–µ–¥–æ–º–∏—Ç—å
4. **—á–∏—Ç–∞–µ—Ç —Å—Ç–∞—Ç—å–∏** - –ø–æ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω–∏—è–º ‚Üí –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–π –Ω–µ–¥–µ–ª–µ –≤ —Å—É–±–±–æ—Ç—É –≤–µ—á–µ—Ä–æ–º —É–≤–µ–¥–æ–º–∏—Ç—å
5. **–∑–∞–∫–∞–∑—ã–≤–∞–µ—Ç –¥–æ—Å—Ç–∞–≤–∫—É** - —á–µ—Ä–µ–∑ –¥–µ–Ω—å ‚Üí –Ω–∞ —Ç—Ä–µ—Ç–∏–π —Ü–∏–∫–ª —É–≤–µ–¥–æ–º–∏—Ç—å
6. **–ø—å—ë—Ç —á–∞–π** - –∫–∞–∂–¥—ã–π –≤–µ—á–µ—Ä –∏–ª–∏ –ø–æ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω–∏—è–º ‚Üí –µ—Å–ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏–ª, —É–≤–µ–¥–æ–º–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–º —Ä–∞–∑–æ–º
7. **–¥–µ–ª–∞–µ—Ç —à–∞–≥–∏** - –≤ 10–º —á–∞—Å—É –∫–∞–∂–¥—ã–π –¥–µ–Ω—å ‚Üí —É—Ç—Ä–æ–º —Å–ª–µ–¥—É—é—à–µ–≥–æ –¥–Ω—è —É–≤–µ–¥–æ–º–∏—Ç—å
8. **–ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–∞–¥–∞—á–∏** - –≤ —Ä–∞–±–æ—á–∏–µ –¥–Ω–∏ –ø–æ—Å–ª–µ –æ–±–µ–¥–∞ ‚Üí –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–π –Ω–µ–¥–µ–ª–µ —É—Ç—Ä–æ–º —É–≤–µ–¥–æ–º–∏—Ç—å
9. **—Å—Ç–∞–≤–∏—Ç –ª–∞–π–∫–∏** - –ø–æ —Å—Ä–µ–¥–∞–º ‚Üí —É–≤–µ–¥–æ–º–∏—Ç—å —Å —É—Ç—Ä–∞ –≤ —Å–ª–µ–¥—É—é—â—É—é —Å—Ä–µ–¥—É


## –≠–≤—Ä–∏—Å—Ç–∏–∫–∞ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç–∏

"–ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å" –∑–∞–ª–æ–∂–µ–Ω–∞ –≤ –¥–∞–Ω–Ω—ã—Ö —Ç—Ä–∏–≥–≥–µ—Ä–∞ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –≤ –ø–æ–ª—è—Ö –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö—Å—è —Å expect***. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≥–µ–Ω–µ—Ä—è—Ç—Å—è –ª–∏–±–æ —Å—Ä–∞–∑—É-–∂–µ —Å –Ω–µ–±–æ–ª—å—à–æ–π 10 –º–∏–Ω –∑–∞–¥–µ—Ä–∂–∫–æ–π –∏–ª–∏ —Å –æ–ø–µ—Ä–µ–∂–µ–Ω–∏–µ–º –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –¥–µ–Ω—å –∏ —á–∞—Å –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–π –Ω–µ–¥–µ–ª–µ (`NotifyMoment`). –î–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∑–∞ —Ä–∞–∑.

###  –ü—Ä–∏–º–µ—Ä "—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ" —Ç—Ä–∏–≥–≥–µ—Ä–∞ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –¥–Ω—è–º–∏ –Ω–µ–¥–µ–ª–∏ –≤ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫, —Å—Ä–µ–¥—É –∏ –ø—è—Ç–Ω–∏—Ü—É 2 –Ω–µ–¥–µ–ª–∏ –ø–æ–¥—Ä—è–¥:
  ```json
{
      ***
     "expectWeekDays" : "mon,wed,fri",
     "expectHowOften" : 2,
     "expectFromHr" : 9,
     "expectToHr" : 11,
      ***
}
```


###  –ü—Ä–∏–º–µ—Ä "–ø–æ–ª—É–¥–µ–Ω–Ω–æ–≥–æ" —Ç—Ä–∏–≥–≥–µ—Ä–∞ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –¥–Ω–µ–π —Ç–æ—á–Ω–µ–µ –∫–∞–∂–¥—ã–π 2–π –¥–µ–Ω—å (—á–µ—Ä–µ–∑ –¥–µ–Ω—å) 3 —Ä–∞–∑–∞ –ø–æ–¥—Ä—è–¥:
  ```json
{
      ***
     "expectEveryDays" : 2,
     "expectHowOften" : 3,
     "expectFromHr" : 13,
     "expectToHr" : 17,
      ***
}
```

- `expectWeekDays` - –≤ –∫–∞–∫–∏–µ –¥–Ω–∏ –æ–∂–∏–¥–∞—é—Ç—Å—è `action` –Ω–∞ –Ω–µ–¥–µ–ª–µ –∏–∑ —Ä—è–¥–∞ "sun, mon, tue, wed, thu, fri, sat" –∏ —Å–∫–æ–ª—å–∫–æ –Ω–µ–¥–µ–ª—å –ø–æ–¥—Ä—è–¥ –≤ `expectHowOften`
- `expectEveryDays` - —Å–∫–æ–ª—å–∫–æ  –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥ (1) –∏–ª–∏ —á–µ—Ä–µ–∑ –¥–µ–Ω—å (2) –∏–ª–∏ –∫–∞–∂–¥—ã–π —Ç—Ä–µ—Ç–∏–π –¥–µ–Ω—å (3) –∏ —Ç.–¥. –æ–∂–∏–¥–∞—é—Ç—Å—è `action` –∏ —Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥ –≤ `expectHowOften`
- `expectFromHr` –∏ `expectToHr` - –æ–∂–∏–¥–∞–µ–º—ã–µ —á–∞—Å—ã `action` (–ø–æ –¥–µ—Ñ–æ–ª—Ç—É –æ—Ç 0 –¥–æ 24 —á–∞—Å–æ–≤)
- `missPreviousTime` - true/false —Ñ–ª–∞–≥ –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Å–ª—É—á–∞—è –∫–æ–≥–¥–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –±—ã–ª–æ –ø—Ä–æ–ø—É—â–µ–Ω–∞ (—Å–º –ø—Ä–∏–º–µ—Ä—ã [‚Ññ6 "–ø—å—ë—Ç —á–∞–π"](https://github.com/serhioms/SubtleNotify?tab=readme-ov-file#:~:text=%D1%82%D1%80%D0%B5%D1%82%D0%B8%D0%B9%20%D1%86%D0%B8%D0%BA%D0%BB%20%D1%83%D0%B2%D0%B5%D0%B4%D0%BE%D0%BC%D0%B8%D1%82%D1%8C-,%D0%BF%D1%8C%D1%91%D1%82%20%D1%87%D0%B0%D0%B9,-%2D%20%D0%BA%D0%B0%D0%B6%D0%B4%D1%8B%D0%B9%20%D0%B2%D0%B5%D1%87%D0%B5%D1%80%20%D0%B8%D0%BB%D0%B8))
> **PS:** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–¥–∞—Ç—å –æ–¥–Ω–æ –∏–∑ –¥–≤—É—Ö –ø—Ä–∞–≤–∏–ª `expectWeekDays` –∏–ª–∏ `expectEveryDays`, –Ω–æ –Ω–µ –æ–±–∞ —Å—Ä–∞–∑—É!


### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:
  ```json
{
  "timestamp": "2025-11-06T21:40:00",
  "notification": "–ö–∞–∂–µ—Ç—Å—è, –≤—ã —Å–æ–≤–∞ ü¶â",
}
```

###  –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∑–∞–¥–∞—ë—Ç—Å—è –≤ —Ç—Ä–∏–≥–≥–µ—Ä–µ:

 ```json
{
    ***
    "notifMoment" : "immediately | next_time",
    "actualWeekDays" : "sat,tue",
    "actualHours" : "5,6,7,8", 
    ***
}
```

- `notifMoment` - –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã 2 –≤–∞—Ä–∏–∞–Ω—Ç–∞: `immediately` —Ç.–µ. —á–µ—Ä–µ–∑ 10 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ `actualHours` –∏  `next_time` —Ç.–µ. –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å/–Ω–µ–¥–µ–ª—é –≤ `actualHours`
- `actualWeekDays` - –±–µ—Ä—ë—Ç—Å—è –ø–æ–¥—Ö–æ–¥—è—â–∏–π –¥–µ–Ω—å –∏–∑ —Å–ø–∏—Å–∫–∞. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω —Ç–æ –±–µ—Ä—ë—Ç—Å—è –ø–æ–¥—Ö–æ–¥—è—â–∏–π –¥–µ–Ω—å –∏–∑ —Å–ø–∏—Å–∫–∞ `expectEveryDays`
- `actualHours` - –±–µ—Ä—ë—Ç—Å—è –ø–æ–¥—Ö–æ–¥—è—â–∏–π —á–∞—Å –∏–∑ —Å–ø–∏—Å–∫–∞. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω —Ç–æ –±–µ—Ä—ë—Ç—Å—è –∏–∑ `expectFromHr` –ø–ª—é—Å/–º–∏–Ω—É—Å 10 –º–∏–Ω—É—Ç


## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤

–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Å–ª–æ–∏—Å—Ç–Ω–∞—è - [SubtleNotifyController](src/main/java/ru/alumni/hub/subtlenotify/controller/SubtleNotifyController.java) ->  [Services](src/main/java/ru/alumni/hub/subtlenotify/service) ->  [Repositories](src/main/java/ru/alumni/hub/subtlenotify/repository) ->  [Model](src/main/java/ru/alumni/hub/subtlenotify/model)

[REST API](http://localhost:8080/swagger-ui/index.html)

[Postman Collection](src/test/postman/postman_collection.json)

[Actuators](http://localhost:8080/actuators.html)

[DB Schema](http://localhost:8080/SubtleNotifyDB.png)


–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –∏—Å–ø–æ–ª–Ω—è—Ç—å –ø—Ä–æ—Ü–µ–¥—É—Ä—É –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —Å REST –≤—ã–∑–æ–≤–æ–º `/action` , –±—É–¥–µ–º –∑–∞–ø—É—Å–∫–∞—Ç—å –µ—ë –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ.

### –ü–ª—é—Å—ã/–º–∏–Ω—É—Å—ã:

- ‚úÖ –£–º–µ–Ω—å—à–∞–µ–º –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã `/action` –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞
- ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –ø—É–ª–æ–º —Ä–∞–±–æ—á–∏—Ö –ø–æ—Ç–æ–∫–æ–≤

